<!DOCTYPE html>
<html lang="ko">

<head>
    <title>app</title>
    <meta charset="UTF-8">
    <script>
        function getRandomURL(vodArray) {
            let range = vodArray.length;
            const random = Math.floor(Math.random() * range);
            const playList = Object.keys(vodArray[random]);
            range = vodArray[random][playList].length;
            const vodindex = Math.floor(Math.random() * range);
            const urlString = `https://vod.afreecatv.com/player/${vodArray[random][playList][vodindex]}/playlist/${playList}`;
            return urlString
        }
        const vodArray = [
            {
                "718365": [
                    130336703, 130336715, 130336713, 130336711, 130336709, 
                    84323557, 84175241, 88262053, 96261786, 96265175, 
                    96285284, 96413410, 97442622, 98667217, 98667218, 
                    98840304, 98842834, 99009726, 99010754, 99011535, 
                    99161561, 99263929, 99282066, 99396025, 99414839, 
                    99415807, 99417482, 99421688, 99423123, 99424056, 
                    100260189, 100261193, 100261826, 100264048, 100264052, 
                    100266112, 100266898, 100269208, 100271665, 100272553, 
                    100273885, 100275146, 100276022, 100277709, 100279454, 
                    100280793, 100312808, 100317851, 100319248, 100320682, 
                    100322349, 100616384, 100618017, 100784234, 100830013, 
                    100831792, 100833822, 100853542, 100854874, 100855668, 
                    100859624, 100859957, 100862248, 100864390, 100865441, 
                    100866475, 100867866, 100868907, 100870370, 100871383, 
                    100872706, 100909763, 101033000, 101034427, 101070390
                ]
            },
            {
                "718363": [
                    130336703, 130336715, 130336713, 130336711, 130336709, 
                    84323557, 84175241, 88262053, 96261786, 96265175, 
                    96285284, 96413410, 97442622, 98667217, 98667218, 
                    98840304, 98842834, 99009726, 99010754, 99011535, 
                    99161561, 99263929, 99282066, 99396025, 99414839, 
                    99415807, 99417482, 99421688, 99423123, 99424056, 
                    100260189, 100261193, 100261826, 100264048, 100264052, 
                    100266112, 100266898, 100269208, 100271665, 100272553, 
                    100273885, 100275146, 100276022, 100277709, 100279454, 
                    100280793, 100312808, 100317851, 100319248, 100320682, 
                    100322349, 100616384, 100618017, 100784234, 100830013, 
                    100831792, 100833822, 100853542, 100854874, 100855668, 
                    100859624, 100859957, 100862248, 100864390, 100865441, 
                    100866475, 100867866, 100868907, 100870370, 100871383, 
                    100872706, 100909763, 101033000, 101034427, 101070390
                ]
            }
        ]

        const vod2Array = [
            {
                "716479": [
                    130336769, 130336779, 130336781, 130336783,
                    124271225, 124271227, 124271229, 124271231,
                    124271233, 124271235, 124271237, 124271239,
                    124271241, 124271243, 124272119, 124272121,
                    124272123, 124272125, 124272127, 124272129,
                    124272131, 124272133, 124272137, 124272139,
                    124272813, 124272815, 124272817, 124272819,
                    124272821, 124275111, 124275113, 124275115,
                    124275117, 124275119, 125595217, 125595219,
                    125595221, 125595223, 125595225, 125595227,
                    125595229, 125595231, 125595233
                ]
            },
            {
                "716477": [
                    130336769, 130336779, 130336781, 130336783,
                    124271225, 124271227, 124271229, 124271231,
                    124271233, 124271235, 124271237, 124271239,
                    124271241, 124271243, 124272119, 124272121,
                    124272123, 124272125, 124272127, 124272129,
                    124272131, 124272133, 124272137, 124272139,
                    124272813, 124272815, 124272817, 124272819,
                    124272821, 124275111, 124275113, 124275115,
                    124275117, 124275119, 125595217, 125595219,
                    125595221, 125595223, 125595225, 125595227,
                    125595229, 125595231, 125595233
                ]
            }
        ]

        function getCurrentArray() {
            const currentHour = new Date().getHours();
            if (currentHour >= 0 && currentHour < 4) {
                return vodArray;
            } else if (currentHour >= 4 && currentHour < 8) {
                return vod2Array;
            } else if (currentHour >= 8 && currentHour < 12) {
                return vodArray;
            } else if (currentHour >= 12 && currentHour < 16) {
                return vod2Array;
            } else if (currentHour >= 16 && currentHour < 20) {
                return vodArray;
            } else if (currentHour >= 20 && currentHour < 24) {
                return vodArray;
            } else {
                return vodArray;
            }
        }

    </script>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.getElementById("redirect").setAttribute(`content`, `0; url=${getRandomURL(getCurrentArray())}`)
        })
    </script>
    <meta id="redirect" http-equiv="refresh">
    </meta>
</head>

<body>
</body>

</html>
