<!DOCTYPE html>
<html lang="ko">

<head>
    <title>app</title>
    <meta charset="UTF-8">
    <script>
        function getRandomURL(vodArray) {
            let range = vodArray.length;
            const random = Math.floor(Math.random() * range);
            const playList = Object.keys(vodArray[random]);
            range = vodArray[random][playList].length;
            const vodindex = Math.floor(Math.random() * range);
            const urlString = `https://vod.afreecatv.com/player/${vodArray[random][playList][vodindex]}/playlist/${playList}`;
            return urlString
        }
        const vodArray = [
            {
                "718365": [
                    130336703,130336715,130336713,130336711,
                    123818251, 123846085, 123846087,
                    123846089, 123846091, 123846095,
                    123846097, 123846099, 123846101,
                    123846103, 123846105, 124807133,
                    124807135, 124807137, 124807139,
                    124807141, 124807143, 124807145,
                    125594487, 125594489, 125594491,
                    125594493, 125594495, 125596335,
                    125596337, 125596339, 125596343
                    ]
            },
            { 
                "718363": [
                    130336703,130336715,130336713,130336711,
                    123818251, 123846085, 123846087,
                    123846089, 123846091, 123846095,
                    123846097, 123846099, 123846101,
                    123846103, 123846105, 124807133,
                    124807135, 124807137, 124807139,
                    124807141, 124807143, 124807145,
                    125594487, 125594489, 125594491,
                    125594493, 125594495, 125596335,
                    125596337, 125596339, 125596343
                    ]
            }
        ]

        const vod2Array=[
            {
                "716479": [
                    130336769,130336779,130336781,130336783,
                    124271225, 124271227, 124271229, 124271231,
                    124271233, 124271235, 124271237, 124271239,
                    124271241, 124271243, 124272119, 124272121,
                    124272123, 124272125, 124272127, 124272129,
                    124272131, 124272133, 124272137, 124272139,
                    124272813, 124272815, 124272817, 124272819,
                    124272821, 124275111, 124275113, 124275115,
                    124275117, 124275119, 125595217, 125595219,
                    125595221, 125595223, 125595225, 125595227,
                    125595229, 125595231, 125595233
                    ]
            },
            { 
                "716477": [
                    130336769,130336779,130336781,130336783,
                    124271225, 124271227, 124271229, 124271231,
                    124271233, 124271235, 124271237, 124271239,
                    124271241, 124271243, 124272119, 124272121,
                    124272123, 124272125, 124272127, 124272129,
                    124272131, 124272133, 124272137, 124272139,
                    124272813, 124272815, 124272817, 124272819,
                    124272821, 124275111, 124275113, 124275115,
                    124275117, 124275119, 125595217, 125595219,
                    125595221, 125595223, 125595225, 125595227,
                    125595229, 125595231, 125595233
                    ]
            }
        ]

        function getCurrentArray() {
            const currentHour = new Date().getHours();
            if (currentHour >= 0 && currentHour < 4) {
                return vodArray;
            } else if (currentHour >= 4 && currentHour < 8) {
                return vod2Array;
            } else if( currentHour >= 8 && currentHour < 12 ){
                return vodArray;
            } else if (currentHour >= 12 && currentHour < 16) {
                return vod2Array;
            } else if( currentHour >= 16 && currentHour < 20 ){
                return vodArray;
            } else if( currentHour >= 20 && currentHour < 24 ){
                return vodArray;
            } else {
                return vodArray;
            }
        }

    </script>

    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            document.getElementById("redirect").setAttribute(`content`, `0; url=${getRandomURL(getCurrentArray())}`)
        })
    </script>
    <meta id="redirect" http-equiv="refresh">
    </meta>
</head>

<body>
</body>

</html>
